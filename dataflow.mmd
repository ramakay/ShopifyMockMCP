%%{init: {'theme':'dark', 'themeVariables': { 'primaryColor':'#FFD700', 'primaryTextColor':'#000', 'primaryBorderColor':'#4169E1', 'lineColor':'#4169E1', 'secondaryColor':'#4169E1', 'tertiaryColor':'#1E90FF', 'background':'#000000', 'mainBkg':'#FFD700', 'secondBkg':'#4169E1', 'tertiaryBkg':'#1E90FF', 'textColor':'#FFD700', 'labelBoxBkgColor':'#000000', 'labelBoxBorderColor':'#FFD700', 'labelTextColor':'#FFD700', 'actorBkg':'#FFD700', 'actorBorder':'#4169E1', 'actorTextColor':'#000', 'actorLineColor':'#4169E1', 'noteBkgColor':'#FFD700', 'noteTextColor':'#000', 'signalColor':'#FFD700', 'signalTextColor':'#000'}}}%%

sequenceDiagram
    participant User
    participant MCP as MCP Client
    participant Server as MCP Server
    participant Tools
    participant Proxy as Shopify Proxy
    participant API as Shopify API

    User->>MCP: Request Product Info
    MCP->>Server: stdio: getProductById
    Server->>Tools: Execute Tool
    Tools->>Proxy: GraphQL Query
    Proxy->>API: POST /graphql
    API-->>Proxy: Product Data
    Proxy-->>Tools: Formatted Response
    Tools-->>Server: Content Blocks
    Server-->>MCP: Tool Response
    MCP-->>User: Display Product